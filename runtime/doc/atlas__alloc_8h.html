<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Atlas Runtime: include/atlas_alloc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Atlas Runtime
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('atlas__alloc_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">atlas_alloc.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for atlas_alloc.h:</div>
<div class="dyncontent">
<div class="center"><img src="atlas__alloc_8h__incl.png" border="0" usemap="#include_2atlas__alloc_8h" alt=""/></div>
<map name="include_2atlas__alloc_8h" id="include_2atlas__alloc_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="atlas__alloc_8h__dep__incl.png" border="0" usemap="#include_2atlas__alloc_8hdep" alt=""/></div>
<map name="include_2atlas__alloc_8hdep" id="include_2atlas__alloc_8hdep">
<area shape="rect" id="node2" href="log__pruner_8cpp.html" title="src/consistency/log\l_pruner.cpp" alt="" coords="5,87,140,129"/>
<area shape="rect" id="node3" href="log__entry__publish_8cpp.html" title="src/logger/log_entry\l_publish.cpp" alt="" coords="165,87,301,129"/>
<area shape="rect" id="node4" href="log__mgr_8cpp.html" title="src/logger/log_mgr.cpp" alt="" coords="324,95,477,121"/>
<area shape="rect" id="node5" href="log__mgr__api_8cpp.html" title="src/logger/log_mgr\l_api.cpp" alt="" coords="501,87,631,129"/>
<area shape="rect" id="node6" href="pregion__mgr__api_8cpp.html" title="src/pregion_mgr/pregion\l_mgr_api.cpp" alt="" coords="655,87,816,129"/>
<area shape="rect" id="node7" href="clean__mem_8cpp.html" title="src/recover/clean_mem.cpp" alt="" coords="840,95,1023,121"/>
<area shape="rect" id="node8" href="del__log_8cpp.html" title="src/recover/del_log.cpp" alt="" coords="1047,95,1205,121"/>
<area shape="rect" id="node9" href="del__rgn_8cpp.html" title="src/recover/del_rgn.cpp" alt="" coords="1229,95,1388,121"/>
<area shape="rect" id="node10" href="recover_8cpp.html" title="src/recover/recover.cpp" alt="" coords="1412,95,1571,121"/>
<area shape="rect" id="node11" href="malloc__free__test_8c.html" title="tests/consistency/malloc\l_free_test.c" alt="" coords="1595,87,1761,129"/>
<area shape="rect" id="node12" href="alarm__clock__nvm_8c.html" title="tests/data_structures\l/alarm_clock_nvm.c" alt="" coords="1785,87,1931,129"/>
<area shape="rect" id="node13" href="cow__array__list__nvm_8c.html" title="tests/data_structures\l/cow_array_list_nvm.c" alt="" coords="1955,87,2107,129"/>
<area shape="rect" id="node14" href="queue__nvm_8c.html" title="tests/data_structures\l/queue_nvm.c" alt="" coords="2132,87,2277,129"/>
<area shape="rect" id="node15" href="sll__ll_8cpp.html" title="tests/data_structures\l/sll_ll.cpp" alt="" coords="2301,87,2447,129"/>
<area shape="rect" id="node16" href="sll__mt__ll_8cpp.html" title="tests/data_structures\l/sll_mt_ll.cpp" alt="" coords="2471,87,2616,129"/>
<area shape="rect" id="node17" href="sll__nvm_8cpp.html" title="tests/data_structures\l/sll_nvm.cpp" alt="" coords="2640,87,2785,129"/>
<area shape="rect" id="node18" href="stores__nvm_8c.html" title="tests/data_structures\l/stores_nvm.c" alt="" coords="2809,87,2955,129"/>
<area shape="rect" id="node19" href="instrumented_2cow__array__list__nvm_8c.html" title="tests/data_structures\l_instrumented/cow_array\l_list_nvm.c" alt="" coords="2979,80,3145,136"/>
<area shape="rect" id="node20" href="instrumented_2queue__nvm_8c.html" title="tests/data_structures\l_instrumented/queue_nvm.c" alt="" coords="3170,87,3357,129"/>
<area shape="rect" id="node21" href="instrumented_2sll__nvm_8cpp.html" title="tests/data_structures\l_instrumented/sll_nvm.cpp" alt="" coords="3381,87,3559,129"/>
<area shape="rect" id="node22" href="instrumented_2stores__nvm_8c.html" title="tests/data_structures\l_instrumented/stores_nvm.c" alt="" coords="3583,87,3770,129"/>
<area shape="rect" id="node23" href="test__memfns_8c.html" title="tests/data_structures\l_instrumented/test_memfns.c" alt="" coords="3794,87,3989,129"/>
<area shape="rect" id="node24" href="region__test_8h.html" title="tests/region/region\l_test.h" alt="" coords="4013,87,4143,129"/>
<area shape="rect" id="node25" href="createclose_8c.html" title="tests/region/createclose.c" alt="" coords="3432,184,3604,211"/>
<area shape="rect" id="node26" href="createclosedelete_8c.html" title="tests/region/createclosedelete.c" alt="" coords="3628,184,3835,211"/>
<area shape="rect" id="node27" href="createclosefocclose_8c.html" title="tests/region/createclosefocclose.c" alt="" coords="3859,184,4081,211"/>
<area shape="rect" id="node28" href="finddelete_8c.html" title="tests/region/finddelete.c" alt="" coords="4105,184,4267,211"/>
<area shape="rect" id="node29" href="focclose_8c.html" title="tests/region/focclose.c" alt="" coords="4291,184,4446,211"/>
<area shape="rect" id="node30" href="focdelete_8c.html" title="tests/region/focdelete.c" alt="" coords="4471,184,4629,211"/>
</map>
</div>
</div>
<p><a href="atlas__alloc_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4e86fc1cc4b8141b990627df6eeaf68"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#ac4e86fc1cc4b8141b990627df6eeaf68">NVM_CreateRegion</a> (const char *name, int flags)</td></tr>
<tr class="memdesc:ac4e86fc1cc4b8141b990627df6eeaf68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a named persistent region.  <a href="#ac4e86fc1cc4b8141b990627df6eeaf68">More...</a><br /></td></tr>
<tr class="separator:ac4e86fc1cc4b8141b990627df6eeaf68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefba19b4d9636e1ef78ae8e85b54883c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#aefba19b4d9636e1ef78ae8e85b54883c">NVM_FindOrCreateRegion</a> (const char *name, int flags, int *is_created)</td></tr>
<tr class="memdesc:aefba19b4d9636e1ef78ae8e85b54883c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a persistent region with the provided name.  <a href="#aefba19b4d9636e1ef78ae8e85b54883c">More...</a><br /></td></tr>
<tr class="separator:aefba19b4d9636e1ef78ae8e85b54883c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f92aa79e4f6583db69ce7314fbacdd3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#a5f92aa79e4f6583db69ce7314fbacdd3">NVM_FindRegion</a> (const char *name, int flags)</td></tr>
<tr class="memdesc:a5f92aa79e4f6583db69ce7314fbacdd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the id of a region when it is known to exist already.  <a href="#a5f92aa79e4f6583db69ce7314fbacdd3">More...</a><br /></td></tr>
<tr class="separator:a5f92aa79e4f6583db69ce7314fbacdd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8046db8a20fa43ba3dabe6c40842024c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#a8046db8a20fa43ba3dabe6c40842024c">NVM_DeleteRegion</a> (const char *name)</td></tr>
<tr class="memdesc:a8046db8a20fa43ba3dabe6c40842024c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the region with the provided name.  <a href="#a8046db8a20fa43ba3dabe6c40842024c">More...</a><br /></td></tr>
<tr class="separator:a8046db8a20fa43ba3dabe6c40842024c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2a7d54a9cac9e274ad3c49b452a187c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#ab2a7d54a9cac9e274ad3c49b452a187c">NVM_CloseRegion</a> (uint32_t rid)</td></tr>
<tr class="memdesc:ab2a7d54a9cac9e274ad3c49b452a187c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a persistent region.  <a href="#ab2a7d54a9cac9e274ad3c49b452a187c">More...</a><br /></td></tr>
<tr class="separator:ab2a7d54a9cac9e274ad3c49b452a187c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce292e947bc31b2da5140266451059a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#a4ce292e947bc31b2da5140266451059a">NVM_GetRegionRoot</a> (uint32_t rid)</td></tr>
<tr class="memdesc:a4ce292e947bc31b2da5140266451059a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the root pointer of the persistent region.  <a href="#a4ce292e947bc31b2da5140266451059a">More...</a><br /></td></tr>
<tr class="separator:a4ce292e947bc31b2da5140266451059a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc283e59c4faa236e38845560076b627"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#afc283e59c4faa236e38845560076b627">NVM_SetRegionRoot</a> (uint32_t rid, void *<a class="el" href="region__test_8h.html#aa570215f2f913275d6ff0d586e436d21">root</a>)</td></tr>
<tr class="memdesc:afc283e59c4faa236e38845560076b627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the root pointer of an existing persistent region.  <a href="#afc283e59c4faa236e38845560076b627">More...</a><br /></td></tr>
<tr class="separator:afc283e59c4faa236e38845560076b627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff92ce8cbc07ee4c3dfb3b536a8d2b55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#aff92ce8cbc07ee4c3dfb3b536a8d2b55">isOnDifferentCacheLine</a> (void *p1, void *p2)</td></tr>
<tr class="memdesc:aff92ce8cbc07ee4c3dfb3b536a8d2b55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if the addresses are on different cache lines.  <a href="#aff92ce8cbc07ee4c3dfb3b536a8d2b55">More...</a><br /></td></tr>
<tr class="separator:aff92ce8cbc07ee4c3dfb3b536a8d2b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade061701d823b2f58bc3bf3ceaae04fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#ade061701d823b2f58bc3bf3ceaae04fa">isCacheLineAligned</a> (void *p)</td></tr>
<tr class="memdesc:ade061701d823b2f58bc3bf3ceaae04fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a memory location is aligned to a cache line.  <a href="#ade061701d823b2f58bc3bf3ceaae04fa">More...</a><br /></td></tr>
<tr class="separator:ade061701d823b2f58bc3bf3ceaae04fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24fb53331e3dfc859dcc887bc3dfa743"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#a24fb53331e3dfc859dcc887bc3dfa743">nvm_alloc</a> (size_t sz, uint32_t rid)</td></tr>
<tr class="memdesc:a24fb53331e3dfc859dcc887bc3dfa743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Malloc style interface for allocation from a persistent region.  <a href="#a24fb53331e3dfc859dcc887bc3dfa743">More...</a><br /></td></tr>
<tr class="separator:a24fb53331e3dfc859dcc887bc3dfa743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a385ab280ca5acf9422d9ca0dfb281883"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#a385ab280ca5acf9422d9ca0dfb281883">nvm_calloc</a> (size_t nmemb, size_t sz, uint32_t rid)</td></tr>
<tr class="memdesc:a385ab280ca5acf9422d9ca0dfb281883"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calloc style interface for allocation from a persistent region.  <a href="#a385ab280ca5acf9422d9ca0dfb281883">More...</a><br /></td></tr>
<tr class="separator:a385ab280ca5acf9422d9ca0dfb281883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9fa3df11470580d1afde4e51322c362"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#ae9fa3df11470580d1afde4e51322c362">nvm_realloc</a> (void *ptr, size_t sz, uint32_t rid)</td></tr>
<tr class="memdesc:ae9fa3df11470580d1afde4e51322c362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realloc style interface for allocation from a persistent region.  <a href="#ae9fa3df11470580d1afde4e51322c362">More...</a><br /></td></tr>
<tr class="separator:ae9fa3df11470580d1afde4e51322c362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa38accce7e02425b94bdd21fcc9459f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="atlas__alloc_8h.html#aa38accce7e02425b94bdd21fcc9459f9">nvm_free</a> (void *ptr)</td></tr>
<tr class="memdesc:aa38accce7e02425b94bdd21fcc9459f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocation interface for persistent data.  <a href="#aa38accce7e02425b94bdd21fcc9459f9">More...</a><br /></td></tr>
<tr class="separator:aa38accce7e02425b94bdd21fcc9459f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ade061701d823b2f58bc3bf3ceaae04fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isCacheLineAligned </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if a memory location is aligned to a cache line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Address of memory location under consideration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Indicates whether the memory location is cache line aligned </dd></dl>

</div>
</div>
<a class="anchor" id="aff92ce8cbc07ee4c3dfb3b536a8d2b55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isOnDifferentCacheLine </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if the addresses are on different cache lines. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p1</td><td>First address </td></tr>
    <tr><td class="paramname">p2</td><td>Second address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Indicates whether the addresses are on different cache lines</dd></dl>
<p>The objects under consideration must not cross cache lines, otherwise this interface is inadequate. </p>

</div>
</div>
<a class="anchor" id="a24fb53331e3dfc859dcc887bc3dfa743"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* nvm_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Malloc style interface for allocation from a persistent region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sz</td><td>Size of location to be allocated </td></tr>
    <tr><td class="paramname">rid</td><td>Id of persistent region for allocation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Address of memory location allocated </dd></dl>

</div>
</div>
<a class="anchor" id="a385ab280ca5acf9422d9ca0dfb281883"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* nvm_calloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calloc style interface for allocation from a persistent region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nmemb</td><td>Number of elements in the array to be allocated </td></tr>
    <tr><td class="paramname">sz</td><td>Size of each element </td></tr>
    <tr><td class="paramname">rid</td><td>Id of persistent region for allocation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to allocated memory </dd></dl>

</div>
</div>
<a class="anchor" id="ab2a7d54a9cac9e274ad3c49b452a187c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NVM_CloseRegion </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a persistent region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rid</td><td>Region id</td></tr>
  </table>
  </dd>
</dl>
<p>After closing, it won't be available to the calling process without calling NVM_FindOrCreateRegion. The region will stay in NVM even after calling this interface. This interface allows closing a region with normal bookkeeping. </p>

</div>
</div>
<a class="anchor" id="ac4e86fc1cc4b8141b990627df6eeaf68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t NVM_CreateRegion </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a named persistent region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the persistent region </td></tr>
    <tr><td class="paramname">flags</td><td>access flag (one of O_RDONLY, O_WRONLY, O_RDWR) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Id of the region created</dd></dl>
<p>This interface does not check for an existing entry with the same name. If a region with the same name already exists, the behavior of the program is undefined. </p>

</div>
</div>
<a class="anchor" id="a8046db8a20fa43ba3dabe6c40842024c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NVM_DeleteRegion </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the region with the provided name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the persistent region</td></tr>
  </table>
  </dd>
</dl>
<p>Use this interface to completely destroy a region. If the region does not exist, an assertion failure will occur. </p>

</div>
</div>
<a class="anchor" id="aefba19b4d9636e1ef78ae8e85b54883c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t NVM_FindOrCreateRegion </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>is_created</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a persistent region with the provided name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the persistent region </td></tr>
    <tr><td class="paramname">flags</td><td>access flag (one of O_RDONLY, O_WRONLY, O_RDWR) </td></tr>
    <tr><td class="paramname">is_created</td><td>Indicator whether the region got created as a result of the call </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Id of the region found or created</dd></dl>
<p>If the region already exists, the existing id of the region is returned. Otherwise a region is created and its newly assigned id returned. </p>

</div>
</div>
<a class="anchor" id="a5f92aa79e4f6583db69ce7314fbacdd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t NVM_FindRegion </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the id of a region when it is known to exist already. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the persistent region </td></tr>
    <tr><td class="paramname">flags</td><td>access flag (one of O_RDONLY, O_WRONLY, O_RDWR) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Id of the region found</dd></dl>
<p>This interface should be used over NVM_FindOrCreateRegion for efficiency reasons if the region is known to exist. If a region with the provided name does not exist, an assertion failure will occur. </p>

</div>
</div>
<a class="anchor" id="aa38accce7e02425b94bdd21fcc9459f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nvm_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocation interface for persistent data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Address of memory location to be freed.</td></tr>
  </table>
  </dd>
</dl>
<p>Though the usual use case would be for the location to be in persistent memory, this interface will also work for transient data. The implementation is required to transparently handle this case as well. </p>

</div>
</div>
<a class="anchor" id="a4ce292e947bc31b2da5140266451059a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* NVM_GetRegionRoot </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the root pointer of the persistent region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rid</td><td>Region id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Root pointer of the region</dd></dl>
<p>The region must have been created already. Currently, only one root is implemented for a given region. The idea is that anything within a region that is not reachable from the root after program termination is assumed to be garbage and can be recycled. During execution, anything within a region that is not reachable from the root or from other <em>roots</em> (in the GC sense) is assumed to be garbage as well. </p>

</div>
</div>
<a class="anchor" id="ae9fa3df11470580d1afde4e51322c362"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* nvm_realloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realloc style interface for allocation from a persistent region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Address of memory block provided </td></tr>
    <tr><td class="paramname">sz</td><td>New size of allocation </td></tr>
    <tr><td class="paramname">rid</td><td>Id of persistent region for allocation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to re-allocated memory </dd></dl>

</div>
</div>
<a class="anchor" id="afc283e59c4faa236e38845560076b627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NVM_SetRegionRoot </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the root pointer of an existing persistent region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rid</td><td>Region id </td></tr>
    <tr><td class="paramname">root</td><td>The new root of the region </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="atlas__alloc_8h.html">atlas_alloc.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
